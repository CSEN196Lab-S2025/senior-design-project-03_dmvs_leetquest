services:
  dev:
    build: .
    image: leetquest-23
    ports:
      - "3000:3000"
    volumes:
      - ./src:/app/src
      - ./public:/app/public
    env_file:
      - .env
    command: npm run dev
    network_mode: bridge
    pull_policy: never

  prisma:
    image: leetquest-23
    ports:
      - "5555:5555"
    volumes:
      - ./prisma:/app/prisma
    env_file:
      - .env
    command: sh -c "npx prisma generate && npx prisma studio -b none"
    network_mode: bridge
    pull_policy: never
